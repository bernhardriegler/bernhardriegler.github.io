(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))b(n);new MutationObserver(n=>{for(const f of n)if(f.type==="childList")for(const P of f.addedNodes)P.tagName==="LINK"&&P.rel==="modulepreload"&&b(P)}).observe(document,{childList:!0,subtree:!0});function h(n){const f={};return n.integrity&&(f.integrity=n.integrity),n.referrerPolicy&&(f.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?f.credentials="include":n.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function b(n){if(n.ep)return;n.ep=!0;const f=h(n);fetch(n.href,f)}})();const t=document.createElement("canvas");t.width=400;t.height=600;document.body.appendChild(t);const g=t.getContext("2d");if(!g)throw new Error("Canvas context not available");if(!g)throw new Error("Canvas context not available");function v(e){g&&e(g)}let l=500,r=200,c=-12,M=.5,a=[{x:150,y:550},{x:250,y:450},{x:100,y:350}],y=0,E=!1,k=new Set,d=[],u=!1,L=0,m={};window.addEventListener("keydown",e=>{m[e.key]=!0});window.addEventListener("keyup",e=>{m[e.key]=!1});let o=100,s=500,w=-12,p={};window.addEventListener("keydown",e=>{p[e.key]=!0});window.addEventListener("keyup",e=>{p[e.key]=!1});function C(){m.ArrowLeft&&(r-=5,r<0&&(r=0)),m.ArrowRight&&(r+=5,r+30>t.width&&(r=t.width-30))}function x(){p.a&&(o-=5,o<0&&(o=0)),p.d&&(o+=5,o+30>t.width&&(o=t.width-30))}function I(){const e=Math.random()*(t.width-100),i=Math.min(...a.map(h=>h.y))-100;a.push({x:e,y:i})}function R(){const e=Math.random()*(t.width-20)+10,i=Math.min(...a.map(h=>h.y))-100;d.push({x:e,y:i,type:"jetpack"})}function j(){v(e=>{d.forEach(i=>{e.beginPath(),e.arc(i.x,i.y,10,0,Math.PI*2),e.fillStyle="yellow",e.shadowBlur=10,e.shadowColor="yellow",e.fill(),e.closePath()}),e.shadowBlur=0})}function T(){d=d.filter(e=>r<e.x+10&&r+30>e.x-10&&l<e.y+10&&l+30>e.y-10?(Y(e.type),!1):!0)}function Y(e){e==="jetpack"&&(u=!0,L=100)}function G(){v(e=>{e.clearRect(0,0,t.width,t.height),e.fillStyle="black",e.fillRect(0,0,t.width,t.height),e.fillStyle="white",e.font="30px Arial",e.textAlign="center",e.fillText("Game Over",t.width/2,t.height/2-20),e.fillText(`Score: ${y}`,t.width/2,t.height/2+20),e.fillText("Press Enter to Restart",t.width/2,t.height/2+60)}),window.addEventListener("keydown",O)}function O(e){e.key==="Enter"&&(window.removeEventListener("keydown",O),l=500,r=200,c=-12,a=[{x:150,y:550},{x:250,y:450},{x:100,y:350}],y=0,E=!1,k.clear(),d=[],u=!1,S())}const A=new Image;A.src="./player.png";function N(){r<o+20&&r+20>o&&l<s+20&&l+20>s&&(r<o?(r-=5,o+=5):(r+=5,o-=5))}l=a[0].y-30;r=a[0].x+20;s=a[0].y-30;o=a[0].x+80;function q(){v(e=>{e.save(),e.filter="invert(1)",e.drawImage(A,o,s,30,30),e.restore()})}function S(){if(!E){if(v(e=>{e.clearRect(0,0,t.width,t.height),C(),x(),e.drawImage(A,r,l,30,30),q(),e.fillStyle="green",a.forEach(i=>{e.fillRect(i.x,i.y,100,10)}),j(),e.fillStyle="black",e.font="20px Arial",e.textAlign="left",e.fillText(`Score: ${y}`,10,30)}),l+=c,c+=M,s+=w,w+=M,a.forEach(e=>{r<e.x+100&&r+30>e.x&&l+30>=e.y&&l+30<=e.y+10&&c>0&&(c=u?-60:-12,k.has(e)||(y+=1,k.add(e),y%3===0&&R())),o<e.x+100&&o+30>e.x&&s+30>=e.y&&s+30<=e.y+10&&w>0&&(w=-12)}),T(),u&&(L--,L<=0&&(u=!1)),N(),l<t.height/2||s<t.height/2){const e=t.height/2-Math.min(l,s);l+=e,s+=e,a.forEach(i=>{i.y+=e}),d.forEach(i=>{i.y+=e}),a=a.filter(i=>i.y<t.height),I()}if(l>t.height||s>t.height){E=!0,G();return}requestAnimationFrame(S)}}S();
